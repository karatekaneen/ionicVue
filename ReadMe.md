<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   -   [Awake][1]
-   [Introduction][2]
    -   [User stories][3]
    -   [Design][4]
        -   [Wireframe of views:][5]
-   [Usage][6]
    -   [Installation for android][7]
    -   [Installation for web][8]
    -   [Tests][9]
    -   [Generate documentation:][10]
    -   [assignTargetLocation][11]
        -   [Parameters][12]
    -   [retrieveCurrentLocation][13]
        -   [Parameters][14]
    -   [createJourney][15]
        -   [Parameters][16]
    -   [createLocationListener][17]
        -   [Parameters][18]
    -   [sendNotification][19]
        -   [Parameters][20]
    -   [journeyRemoval][21]
        -   [Parameters][22]
    -   [getFavorites][23]
        -   [Parameters][24]
    -   [setFavorites][25]
        -   [Parameters][26]
    -   [addToFavorites][27]
        -   [Parameters][28]
    -   [removeFavorite][29]
        -   [Parameters][30]
    -   [Coordinate][31]
        -   [Parameters][32]
        -   [setCoordinates][33]
        -   [calculateDistance][34]
        -   [toRadians][35]
        -   [toMarker][36]
        -   [fromJSON][37]
    -   [Journey][38]
        -   [Parameters][39]
        -   [setCurrentLocation][40]
        -   [setThreshold][41]
        -   [setTargetLocation][42]
        -   [getProgress][43]
    -   [Notification][44]
        -   [Parameters][45]
        -   [getRandomTitle][46]
        -   [generateScheduleObj][47]
        -   [getNotificationTypes][48]

## Awake

# Introduction

This is my cool introduction

## User stories

It wakes people up so they don't wake up in Flen.

## Design

Material design via vuetify

### Wireframe of views:

![wireframe][49]

# Usage

## Installation for android

```bash
npm install # Install dependencies
npm run and # Run vue build and copy it to capacitor
npm run capacitor-open # Open the capacitor project in Android studio
```

## Installation for web

```bash
npm install # Install dependencies
npm run serve # Run development server
```

## Tests

Only have unit tests in this project because the native modules was pretty much impossible to do integration testing on.

```bash
npm run test:unit
```

## Generate documentation:

```bash
npm run docs:md # for Readme.md
npm run docs:html # for docs/index.html
npm run docs:full # for both of the above.
```

## assignTargetLocation

Saves the target location to the store and if there is a
journey active it will be updated as well.

### Parameters

-   `context` **[Object][50]** 
    -   `context.commit`  
    -   `context.state`  
-   `coordinate` **[Coordinate][51]** The target location

## retrieveCurrentLocation

Retrieves the initial position when the application is started
and assigns the `currentLocation` prop.

### Parameters

-   `context` **[Object][50]** 
    -   `context.commit`  

## createJourney

Creates instance of `Journey` and saves it to the store if there
is no active journey. If there is a `currentJourney` assigned it is updated.
The `threshold` variable is converted back to meters and subtracted
from the `max` value to get the distance to notify at.

### Parameters

-   `context` **[Object][50]** The store
    -   `context.commit`  
    -   `context.dispatch`  
    -   `context.state`  
-   `journey` **[Object][50]** The Journey settings deconstructed
    -   `journey.currentLocation` **[Coordinate][51]** 
    -   `journey.targetLocation` **[Coordinate][51]** 
    -   `journey.threshold` **[number][52]** 
    -   `journey.max` **[number][52]** 

Returns **[Journey][53]** the Journey instance.

## createLocationListener

Creates a location listener that checks the position every ~5 seconds.

It then updates the state props `currentLocation`, `currentJourney` and `progress`

### Parameters

-   `context` **[Object][50]** 
    -   `context.commit`  
    -   `context.state`  
    -   `context.dispatch`  

Returns **void** 

## sendNotification

Creates and schedules a notification

### Parameters

-   `context` **[Object][50]** 
    -   `context.state`  
    -   `context.commit`  

Returns **void** 

## journeyRemoval

Resets the state when the journey is complete or cancelled.

### Parameters

-   `context` **[Object][50]** 
    -   `context.state`  
    -   `context.commit`  

Returns **void** 

## getFavorites

Fetches the favorites from the native storage and saves them to state.

### Parameters

-   `context` **[Object][50]** 
    -   `context.commit`  

Returns **void** 

## setFavorites

Saves the favorites to native storage and to state.

### Parameters

-   `context` **[Object][50]** 
    -   `context.commit`  
-   `favorites` **[Array][54]&lt;[Object][50]>** The favorites to save to Storage.

Returns **void** 

## addToFavorites

Adds a new favorite to the list and dispatches a `setFavorites` action.

### Parameters

-   `context` **[Object][50]** 
    -   `context.dispatch`  
    -   `context.state`  
-   `newFavorite` **[Object][50]** Favorite to add.

Returns **void** 

## removeFavorite

Removes a single favorite from the list of favorites and dispatches the `setFavorites` action.

### Parameters

-   `context` **[Object][50]** 
    -   `context.dispatch`  
    -   `context.state`  
-   `favoriteToRemove` **[Object][50]** 

Returns **void** 

## Coordinate

Class for coordinate points with some helper methods to do some calculations such as distance.

### Parameters

-   `locationResponse` **[Object][50]** The response from the native GPS. If coordinates originates from different source they need to be converted to fit the input

### setCoordinates

Sets the instance's location properties. Used both for creating a new instance and updating data on an existing instance

#### Parameters

-   `location` **[Object][50]** 
    -   `location.coords` **[Object][50]** The coordinate object , mainly with the `latitude` and `longitude` props.

Returns **[Coordinate][51]** this

### calculateDistance

Calculates the distance between two coordinate points.
Calculation and code found at [this link][55]

#### Parameters

-   `coordinate1` **[Coordinate][51]** The target coordinates
-   `coordinate2` **[Coordinate][51]** The current coordinates, defaults to this. (optional, default `this`)

Returns **[number][52]** Distance in meters?

### toRadians

Helper method to convert degrees to radians, which is a different kind of degrees.
formula found at [this link][56]

#### Parameters

-   `degrees` **[number][52]** Degrees that should be converted to radians

Returns **[number][52]** degrees converted to radians

### toMarker

Helper method to create object to add markers to the Google map component

Returns **[Object][50]** In the correct form for Google maps

### fromJSON

When storing Coordinates they will be converted to JSON.
This method helps to build new Coordinate instances like:

```javascript
const jsonObject = { latitude: 58, longitude: 12, timestamp: 1234567 }
const coordinate = new Coordinate(Coordinate.fromJSON(jsonObject))
```

#### Parameters

-   `coordinate` **[Object][50]** A Coordinate instance that has been serialized to JSON.
    -   `coordinate.timestamp`  
    -   `coordinate.coords` **...any** 

Returns **[Coordinate][51]** 

## Journey

The class that contains all the information for a particular trip

### Parameters

-   `$0` **[Object][50]**  (optional, default `{}`)
    -   `$0.startLocation`  
    -   `$0.targetLocation`  
    -   `$0.threshold`  
-   `params` **[Object][50]** 

### setCurrentLocation

Updates the current location and also updates the distance to the destination.

#### Parameters

-   `currentLocation` **[Coordinate][51]** The current location

Returns **[Journey][53]** this

### setThreshold

Sets the instances threshold

#### Parameters

-   `threshold` **[number][52]** The distance from the destination where the notification should be sent

Returns **[Journey][53]** this

### setTargetLocation

Sets the instance's target location and calculates `initialDistance` and `currentDistance`.

#### Parameters

-   `target` **[Coordinate][51]** The target location

Returns **[Journey][53]** this

### getProgress

Get how much of the journey that is complete.

Returns **[Object][50]** `threshold` is the fraction of the trip where the notification should be sent. `current` is the current percentage of the trip that's completed. `shouldNotify` is a bool that notifies if the current distance is less than the threhsold distance

## Notification

Class to be used for local notifications natively.

### Parameters

-   `$0` **[Object][50]**  (optional, default `{}`)
    -   `$0.title`  
    -   `$0.body`   (optional, default `'You are about to arrive at your destination'`)
    -   `$0.schedule`   (optional, default `'now'`)
    -   `$0.id`   (optional, default `Math.floor(Math.random()*100)`)
    -   `$0.sound`   (optional, default `null`)
    -   `$0.journey`   (optional, default `null`)
    -   `$0.actionTypeId`   (optional, default `'DEFAULT'`)
    -   `$0.smallIcon`   (optional, default `null`)
    -   `$0.extra`   (optional, default `null`)
-   `params` **[Object][50]** 

### getRandomTitle

Returns random title if none is provided to the constructor

Returns **[String][57]** Random title

### generateScheduleObj

Generates the object that triggers the notification.

#### Parameters

-   `schedule` **([String][57] \| [number][52] \| [Object][50])** When to send the notification. If it is a string with `now` it starts in 5 seconds, if it is a number it starts in the number of seconds. If it is an object it is considered to know what is required and is return as it is. (optional, default `'now'`)

Returns **[Object][50]** Schedule object for the notification

### getNotificationTypes

Get all the types of notifications that will be used in the application.

Returns **[Array][54]&lt;[Object][50]>** Array of notification types

[1]: #awake

[2]: #introduction

[3]: #user-stories

[4]: #design

[5]: #wireframe-of-views

[6]: #usage

[7]: #installation-for-android

[8]: #installation-for-web

[9]: #tests

[10]: #generate-documentation

[11]: #assigntargetlocation

[12]: #parameters

[13]: #retrievecurrentlocation

[14]: #parameters-1

[15]: #createjourney

[16]: #parameters-2

[17]: #createlocationlistener

[18]: #parameters-3

[19]: #sendnotification

[20]: #parameters-4

[21]: #journeyremoval

[22]: #parameters-5

[23]: #getfavorites

[24]: #parameters-6

[25]: #setfavorites

[26]: #parameters-7

[27]: #addtofavorites

[28]: #parameters-8

[29]: #removefavorite

[30]: #parameters-9

[31]: #coordinate

[32]: #parameters-10

[33]: #setcoordinates

[34]: #calculatedistance

[35]: #toradians

[36]: #tomarker

[37]: #fromjson

[38]: #journey

[39]: #parameters-11

[40]: #setcurrentlocation

[41]: #setthreshold

[42]: #settargetlocation

[43]: #getprogress

[44]: #notification

[45]: #parameters-12

[46]: #getrandomtitle

[47]: #generatescheduleobj

[48]: #getnotificationtypes

[49]: https://github.com/karatekaneen/ionicVue/blob/master/docs/AwakerViews.jpg "Wireframe views"

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[51]: #coordinate

[52]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[53]: #journey

[54]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[55]: https://www.movable-type.co.uk/scripts/latlong.html

[56]: https://www.w3resource.com/javascript-exercises/javascript-math-exercise-33.php

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
