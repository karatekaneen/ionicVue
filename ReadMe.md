<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Awake

# Introduction

This is my cool introduction

## User stories

It wakes people up so they don't wake up in Flen.

## Design

Material design via vuetify

### Wireframe of views:

![wireframe][1]

### Color schema

Not all are being used but all selected are shown below.

In order top left to bottom right:

-   Primary
-   Secondary
-   Background
-   Accent
-   Info
-   Warning
-   Success
-   Error

![primary][2] ![secondary][3] ![Background][4]

 ![Accent][5] ![info][6]  ![Warning][7]

![Success][8]  ![Error][9]

# Usage

## Installation for android

```bash
npm install # Install dependencies
npm run and # Run vue build and copy it to capacitor
npm run capacitor-open # Open the capacitor project in Android studio
```

## Installation for web

```bash
npm install # Install dependencies
npm run serve # Run development server
```

## Tests

Only have unit tests in this project because the native modules was pretty much impossible to do integration testing on.

```bash
npm run test:unit
```

## Generate documentation:

```bash
npm run docs:md # for Readme.md
npm run docs:html # for docs/index.html
npm run docs:full # for both of the above.
```

## assignTargetLocation

Saves the target location to the store and if there is a
journey active it will be updated as well.

### Parameters

-   `context` **[Object][10]** 
    -   `context.commit`  
    -   `context.state`  
-   `coordinate` **[Coordinate][11]** The target location

## retrieveCurrentLocation

Retrieves the initial position when the application is started
and assigns the `currentLocation` prop.

### Parameters

-   `context` **[Object][10]** 
    -   `context.commit`  

## createJourney

Creates instance of `Journey` and saves it to the store if there
is no active journey. If there is a `currentJourney` assigned it is updated.
The `threshold` variable is converted back to meters and subtracted
from the `max` value to get the distance to notify at.

### Parameters

-   `context` **[Object][10]** The store
    -   `context.commit`  
    -   `context.dispatch`  
    -   `context.state`  
-   `journey` **[Object][10]** The Journey settings deconstructed
    -   `journey.currentLocation` **[Coordinate][11]** 
    -   `journey.targetLocation` **[Coordinate][11]** 
    -   `journey.threshold` **[number][12]** 
    -   `journey.max` **[number][12]** 

Returns **[Journey][13]** the Journey instance.

## createLocationListener

Creates a location listener that checks the position every ~5 seconds.

It then updates the state props `currentLocation`, `currentJourney` and `progress`

### Parameters

-   `context` **[Object][10]** 
    -   `context.commit`  
    -   `context.state`  
    -   `context.dispatch`  

Returns **void** 

## sendNotification

Creates and schedules a notification

### Parameters

-   `context` **[Object][10]** 
    -   `context.state`  
    -   `context.commit`  

Returns **void** 

## journeyRemoval

Resets the state when the journey is complete or cancelled.

### Parameters

-   `context` **[Object][10]** 
    -   `context.state`  
    -   `context.commit`  

Returns **void** 

## getFavorites

Fetches the favorites from the native storage and saves them to state.

### Parameters

-   `context` **[Object][10]** 
    -   `context.commit`  

Returns **void** 

## setFavorites

Saves the favorites to native storage and to state.

### Parameters

-   `context` **[Object][10]** 
    -   `context.commit`  
-   `favorites` **[Array][14]&lt;[Object][10]>** The favorites to save to Storage.

Returns **void** 

## addToFavorites

Adds a new favorite to the list and dispatches a `setFavorites` action.

### Parameters

-   `context` **[Object][10]** 
    -   `context.dispatch`  
    -   `context.state`  
-   `newFavorite` **[Object][10]** Favorite to add.

Returns **void** 

## removeFavorite

Removes a single favorite from the list of favorites and dispatches the `setFavorites` action.

### Parameters

-   `context` **[Object][10]** 
    -   `context.dispatch`  
    -   `context.state`  
-   `favoriteToRemove` **[Object][10]** 

Returns **void** 

## Coordinate

Class for coordinate points with some helper methods to do some calculations such as distance.

### Parameters

-   `locationResponse` **[Object][10]** The response from the native GPS. If coordinates originates from different source they need to be converted to fit the input

### setCoordinates

Sets the instance's location properties. Used both for creating a new instance and updating data on an existing instance

#### Parameters

-   `location` **[Object][10]** 
    -   `location.coords` **[Object][10]** The coordinate object , mainly with the `latitude` and `longitude` props.

Returns **[Coordinate][11]** this

### calculateDistance

Calculates the distance between two coordinate points.
Calculation and code found at [this link][15]

#### Parameters

-   `coordinate1` **[Coordinate][11]** The target coordinates
-   `coordinate2` **[Coordinate][11]** The current coordinates, defaults to this. (optional, default `this`)

Returns **[number][12]** Distance in meters?

### toRadians

Helper method to convert degrees to radians, which is a different kind of degrees.
formula found at [this link][16]

#### Parameters

-   `degrees` **[number][12]** Degrees that should be converted to radians

Returns **[number][12]** degrees converted to radians

### toMarker

Helper method to create object to add markers to the Google map component

Returns **[Object][10]** In the correct form for Google maps

### fromJSON

When storing Coordinates they will be converted to JSON.
This method helps to build new Coordinate instances like:

```javascript
const jsonObject = { latitude: 58, longitude: 12, timestamp: 1234567 }
const coordinate = new Coordinate(Coordinate.fromJSON(jsonObject))
```

#### Parameters

-   `coordinate` **[Object][10]** A Coordinate instance that has been serialized to JSON.
    -   `coordinate.timestamp`  
    -   `coordinate.coords` **...any** 

Returns **[Coordinate][11]** 

## Journey

The class that contains all the information for a particular trip

### Parameters

-   `$0` **[Object][10]**  (optional, default `{}`)
    -   `$0.startLocation`  
    -   `$0.targetLocation`  
    -   `$0.threshold`  
-   `params` **[Object][10]** 

### setCurrentLocation

Updates the current location and also updates the distance to the destination.

#### Parameters

-   `currentLocation` **[Coordinate][11]** The current location

Returns **[Journey][13]** this

### setThreshold

Sets the instances threshold

#### Parameters

-   `threshold` **[number][12]** The distance from the destination where the notification should be sent

Returns **[Journey][13]** this

### setTargetLocation

Sets the instance's target location and calculates `initialDistance` and `currentDistance`.

#### Parameters

-   `target` **[Coordinate][11]** The target location

Returns **[Journey][13]** this

### getProgress

Get how much of the journey that is complete.

Returns **[Object][10]** `threshold` is the fraction of the trip where the notification should be sent. `current` is the current percentage of the trip that's completed. `shouldNotify` is a bool that notifies if the current distance is less than the threhsold distance

## Notification

Class to be used for local notifications natively.

### Parameters

-   `$0` **[Object][10]**  (optional, default `{}`)
    -   `$0.title`  
    -   `$0.body`   (optional, default `'You are about to arrive at your destination'`)
    -   `$0.schedule`   (optional, default `'now'`)
    -   `$0.id`   (optional, default `Math.floor(Math.random()*100)`)
    -   `$0.sound`   (optional, default `null`)
    -   `$0.journey`   (optional, default `null`)
    -   `$0.actionTypeId`   (optional, default `'DEFAULT'`)
    -   `$0.smallIcon`   (optional, default `null`)
    -   `$0.extra`   (optional, default `null`)
-   `params` **[Object][10]** 

### getRandomTitle

Returns random title if none is provided to the constructor

Returns **[String][17]** Random title

### generateScheduleObj

Generates the object that triggers the notification.

#### Parameters

-   `schedule` **([String][17] \| [number][12] \| [Object][10])** When to send the notification. If it is a string with `now` it starts in 5 seconds, if it is a number it starts in the number of seconds. If it is an object it is considered to know what is required and is return as it is. (optional, default `'now'`)

Returns **[Object][10]** Schedule object for the notification

### getNotificationTypes

Get all the types of notifications that will be used in the application.

Returns **[Array][14]&lt;[Object][10]>** Array of notification types

[1]: https://github.com/karatekaneen/ionicVue/blob/master/docs/AwakerViews.jpg "Wireframe views"

[2]: https://github.com/karatekaneen/ionicVue/blob/master/docs/primary.png "primary color"

[3]: https://github.com/karatekaneen/ionicVue/blob/master/docs/secondary.png "secondary color"

[4]: https://github.com/karatekaneen/ionicVue/blob/master/docs/background.png "Background color"

[5]: https://github.com/karatekaneen/ionicVue/blob/master/docs/accent.png "Accent color"

[6]: https://github.com/karatekaneen/ionicVue/blob/master/docs/info.png "info color"

[7]: https://github.com/karatekaneen/ionicVue/blob/master/docs/warning.png "Warning color"

[8]: https://github.com/karatekaneen/ionicVue/blob/master/docs/success.png "Success color"

[9]: https://github.com/karatekaneen/ionicVue/blob/master/docs/error.png "Error color"

[10]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[11]: #coordinate

[12]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[13]: #journey

[14]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[15]: https://www.movable-type.co.uk/scripts/latlong.html

[16]: https://www.w3resource.com/javascript-exercises/javascript-math-exercise-33.php

[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
