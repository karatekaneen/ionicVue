<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   -   [Awake][1]
-   [Introduction][2]
    -   [User stories][3]
    -   [Design][4]
        -   [Wireframe of views:][5]
-   [Usage][6]
    -   [Installation for android][7]
    -   [Installation for web][8]
    -   [Tests][9]
    -   [Generate documentation:][10]
    -   [nextStep][11]
    -   [moveMarker][12]
        -   [Parameters][13]
    -   [setMarkerToFavorite][14]
    -   [createTargetCoordinates][15]
    -   [loadCurrentTarget][16]
    -   [assignTargetLocation][17]
        -   [Parameters][18]
    -   [retrieveCurrentLocation][19]
        -   [Parameters][20]
    -   [createJourney][21]
        -   [Parameters][22]
    -   [createLocationListener][23]
        -   [Parameters][24]
    -   [sendNotification][25]
        -   [Parameters][26]
    -   [journeyRemoval][27]
        -   [Parameters][28]
    -   [getFavorites][29]
        -   [Parameters][30]
    -   [setFavorites][31]
        -   [Parameters][32]
    -   [addToFavorites][33]
        -   [Parameters][34]
    -   [removeFavorite][35]
        -   [Parameters][36]
    -   [Coordinate][37]
        -   [Parameters][38]
        -   [setCoordinates][39]
        -   [calculateDistance][40]
        -   [toRadians][41]
        -   [toMarker][42]
        -   [fromJSON][43]
    -   [Journey][44]
        -   [Parameters][45]
        -   [setCurrentLocation][46]
        -   [setThreshold][47]
        -   [setTargetLocation][48]
        -   [getProgress][49]
    -   [Notification][50]
        -   [Parameters][51]
        -   [getRandomTitle][52]
        -   [generateScheduleObj][53]
        -   [getNotificationTypes][54]

## Awake

# Introduction

This is my cool introduction

## User stories

It wakes people up so they don't wake up in Flen.

## Design

Material design via vuetify

### Wireframe of views:

![wireframe][55]

# Usage

## Installation for android

```bash
npm install # Install dependencies
npm run and # Run vue build and copy it to capacitor
npm run capacitor-open # Open the capacitor project in Android studio
```

## Installation for web

```bash
npm install # Install dependencies
npm run serve # Run development server
```

## Tests

Only have unit tests in this project because the native modules was pretty much impossible to do integration testing on.

```bash
npm run test:unit
```

## Generate documentation:

```bash
npm run docs:md # for Readme.md
npm run docs:html # for docs/index.html
npm run docs:full # for both of the above.
```

## nextStep

Method to perform the actions needed to proceed to the next step.

## moveMarker

Method to move the marker on the map and update the local variable.

This version currently only supports one marker but in following
versions favorites and current positions will be shown on the map as well.

### Parameters

-   `MapCenter` **[Object][56]** The object of the center of the map
    -   `MapCenter.lat` **[Function][57]** Returns the latitude of the map center
    -   `MapCenter.lng` **[Function][57]** Returns the longitude of the map center

Returns **void** 

## setMarkerToFavorite

Moves the map marker to the favorite selected.

Returns **void** 

## createTargetCoordinates

Creates a `Coordinate` instance from the marker and saves it as the
destination (targetLocation) to the store.

Returns **[Coordinate][58]** The Coordinate instance

## loadCurrentTarget

This method is used to load the initial marker on the map.
If we open the component fresh the current position is used as
the first marker but if we come back and already have a targetLocation
set that will be used.

Returns **void** 

## assignTargetLocation

Saves the target location to the store and if there is a
journey active it will be updated as well.

### Parameters

-   `context` **[Object][56]** 
    -   `context.commit`  
    -   `context.state`  
-   `coordinate` **[Coordinate][58]** The target location

## retrieveCurrentLocation

Retrieves the initial position when the application is started
and assigns the `currentLocation` prop.

### Parameters

-   `context` **[Object][56]** 
    -   `context.commit`  

## createJourney

Creates instance of `Journey` and saves it to the store if there
is no active journey. If there is a `currentJourney` assigned it is updated.
The `threshold` variable is converted back to meters and subtracted
from the `max` value to get the distance to notify at.

### Parameters

-   `context` **[Object][56]** The store
    -   `context.commit`  
    -   `context.dispatch`  
    -   `context.state`  
-   `journey` **[Object][56]** The Journey settings deconstructed
    -   `journey.currentLocation` **[Coordinate][58]** 
    -   `journey.targetLocation` **[Coordinate][58]** 
    -   `journey.threshold` **[number][59]** 
    -   `journey.max` **[number][59]** 

Returns **[Journey][60]** the Journey instance.

## createLocationListener

Creates a location listener that checks the position every ~5 seconds.

It then updates the state props `currentLocation`, `currentJourney` and `progress`

### Parameters

-   `context` **[Object][56]** 
    -   `context.commit`  
    -   `context.state`  
    -   `context.dispatch`  

Returns **void** 

## sendNotification

Creates and schedules a notification

### Parameters

-   `context` **[Object][56]** 
    -   `context.state`  
    -   `context.commit`  

Returns **void** 

## journeyRemoval

Resets the state when the journey is complete or cancelled.

### Parameters

-   `context` **[Object][56]** 
    -   `context.state`  
    -   `context.commit`  

Returns **void** 

## getFavorites

Fetches the favorites from the native storage and saves them to state.

### Parameters

-   `context` **[Object][56]** 
    -   `context.commit`  

Returns **void** 

## setFavorites

Saves the favorites to native storage and to state.

### Parameters

-   `context` **[Object][56]** 
    -   `context.commit`  
-   `favorites` **[Array][61]&lt;[Object][56]>** The favorites to save to Storage.

Returns **void** 

## addToFavorites

Adds a new favorite to the list and dispatches a `setFavorites` action.

### Parameters

-   `context` **[Object][56]** 
    -   `context.dispatch`  
    -   `context.state`  
-   `newFavorite` **[Object][56]** Favorite to add.

Returns **void** 

## removeFavorite

Removes a single favorite from the list of favorites and dispatches the `setFavorites` action.

### Parameters

-   `context` **[Object][56]** 
    -   `context.dispatch`  
    -   `context.state`  
-   `favoriteToRemove` **[Object][56]** 

Returns **void** 

## Coordinate

Class for coordinate points with some helper methods to do some calculations such as distance.

### Parameters

-   `locationResponse` **[Object][56]** The response from the native GPS. If coordinates originates from different source they need to be converted to fit the input

### setCoordinates

Sets the instance's location properties. Used both for creating a new instance and updating data on an existing instance

#### Parameters

-   `location` **[Object][56]** 
    -   `location.coords` **[Object][56]** The coordinate object , mainly with the `latitude` and `longitude` props.

Returns **[Coordinate][58]** this

### calculateDistance

Calculates the distance between two coordinate points.
Calculation and code found at [this link][62]

#### Parameters

-   `coordinate1` **[Coordinate][58]** The target coordinates
-   `coordinate2` **[Coordinate][58]** The current coordinates, defaults to this. (optional, default `this`)

Returns **[number][59]** Distance in meters?

### toRadians

Helper method to convert degrees to radians, which is a different kind of degrees.
formula found at [this link][63]

#### Parameters

-   `degrees` **[number][59]** Degrees that should be converted to radians

Returns **[number][59]** degrees converted to radians

### toMarker

Helper method to create object to add markers to the Google map component

Returns **[Object][56]** In the correct form for Google maps

### fromJSON

When storing Coordinates they will be converted to JSON.
This method helps to build new Coordinate instances like:

```javascript
const jsonObject = { latitude: 58, longitude: 12, timestamp: 1234567 }
const coordinate = new Coordinate(Coordinate.fromJSON(jsonObject))
```

#### Parameters

-   `coordinate` **[Object][56]** A Coordinate instance that has been serialized to JSON.
    -   `coordinate.timestamp`  
    -   `coordinate.coords` **...any** 

Returns **[Coordinate][58]** 

## Journey

The class that contains all the information for a particular trip

### Parameters

-   `$0` **[Object][56]**  (optional, default `{}`)
    -   `$0.startLocation`  
    -   `$0.targetLocation`  
    -   `$0.threshold`  
-   `params` **[Object][56]** 

### setCurrentLocation

Updates the current location and also updates the distance to the destination.

#### Parameters

-   `currentLocation` **[Coordinate][58]** The current location

Returns **[Journey][60]** this

### setThreshold

Sets the instances threshold

#### Parameters

-   `threshold` **[number][59]** The distance from the destination where the notification should be sent

Returns **[Journey][60]** this

### setTargetLocation

Sets the instance's target location and calculates `initialDistance` and `currentDistance`.

#### Parameters

-   `target` **[Coordinate][58]** The target location

Returns **[Journey][60]** this

### getProgress

Get how much of the journey that is complete.

Returns **[Object][56]** `threshold` is the fraction of the trip where the notification should be sent. `current` is the current percentage of the trip that's completed. `shouldNotify` is a bool that notifies if the current distance is less than the threhsold distance

## Notification

Class to be used for local notifications natively.

### Parameters

-   `$0` **[Object][56]**  (optional, default `{}`)
    -   `$0.title`  
    -   `$0.body`   (optional, default `'You are about to arrive at your destination'`)
    -   `$0.schedule`   (optional, default `'now'`)
    -   `$0.id`   (optional, default `Math.floor(Math.random()*100)`)
    -   `$0.sound`   (optional, default `null`)
    -   `$0.journey`   (optional, default `null`)
    -   `$0.actionTypeId`   (optional, default `'DEFAULT'`)
    -   `$0.smallIcon`   (optional, default `null`)
    -   `$0.extra`   (optional, default `null`)
-   `params` **[Object][56]** 

### getRandomTitle

Returns random title if none is provided to the constructor

Returns **[String][64]** Random title

### generateScheduleObj

Generates the object that triggers the notification.

#### Parameters

-   `schedule` **([String][64] \| [number][59] \| [Object][56])** When to send the notification. If it is a string with `now` it starts in 5 seconds, if it is a number it starts in the number of seconds. If it is an object it is considered to know what is required and is return as it is. (optional, default `'now'`)

Returns **[Object][56]** Schedule object for the notification

### getNotificationTypes

Get all the types of notifications that will be used in the application.

Returns **[Array][61]&lt;[Object][56]>** Array of notification types

[1]: #awake

[2]: #introduction

[3]: #user-stories

[4]: #design

[5]: #wireframe-of-views

[6]: #usage

[7]: #installation-for-android

[8]: #installation-for-web

[9]: #tests

[10]: #generate-documentation

[11]: #nextstep

[12]: #movemarker

[13]: #parameters

[14]: #setmarkertofavorite

[15]: #createtargetcoordinates

[16]: #loadcurrenttarget

[17]: #assigntargetlocation

[18]: #parameters-1

[19]: #retrievecurrentlocation

[20]: #parameters-2

[21]: #createjourney

[22]: #parameters-3

[23]: #createlocationlistener

[24]: #parameters-4

[25]: #sendnotification

[26]: #parameters-5

[27]: #journeyremoval

[28]: #parameters-6

[29]: #getfavorites

[30]: #parameters-7

[31]: #setfavorites

[32]: #parameters-8

[33]: #addtofavorites

[34]: #parameters-9

[35]: #removefavorite

[36]: #parameters-10

[37]: #coordinate

[38]: #parameters-11

[39]: #setcoordinates

[40]: #calculatedistance

[41]: #toradians

[42]: #tomarker

[43]: #fromjson

[44]: #journey

[45]: #parameters-12

[46]: #setcurrentlocation

[47]: #setthreshold

[48]: #settargetlocation

[49]: #getprogress

[50]: #notification

[51]: #parameters-13

[52]: #getrandomtitle

[53]: #generatescheduleobj

[54]: #getnotificationtypes

[55]: https://github.com/karatekaneen/ionicVue/blob/master/docs/AwakerViews.jpg "Wireframe views"

[56]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[58]: #coordinate

[59]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[60]: #journey

[61]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[62]: https://www.movable-type.co.uk/scripts/latlong.html

[63]: https://www.w3resource.com/javascript-exercises/javascript-math-exercise-33.php

[64]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
